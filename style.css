:root {
    --glass: rgba(255,255,255,0.12);
    --glass-light: rgba(255,255,255,0.18);
    --glass-dark: rgba(0,0,0,0.2);
    --accent: #7b68ee;
    --accent-glow: rgba(123, 104, 238, 0.3);
    --text-primary: #ffffff;
    --text-secondary: #e0e0e0;
    --text-tertiary: #b0b0b0;
    --bg-primary: #0a0f1f;
    --bg-secondary: rgba(25, 25, 35, 0.65);
    --bg-tertiary: rgba(40, 40, 55, 0.5);
    --border: rgba(255,255,255,0.18);
    --border-light: rgba(255,255,255,0.25);
    --border-dark: rgba(0,0,0,0.3);
    --shadow: 0 20px 40px rgba(0,0,0,0.4);
    --shadow-heavy: 0 25px 50px rgba(0,0,0,0.5);
    --radius: 16px;
    --radius-small: 12px;
    --radius-large: 24px;
    
    --dock-height: 80px;
    --dock-icon-size: 58px;
    --dock-gap: 12px;
  }

  /* Reset */
  *{box-sizing: border-box; margin:0; padding:0; -webkit-font-smoothing:antialiased}
  html,body{height:100%; width:100%; font-family: "Inter", "SF Pro Display", "Segoe UI", system-ui, -apple-system, Arial; color: var(--text-primary); overflow: hidden;}

  /* Background with image */
  body{
    background:url('wallpapers/wallpaper1.png') center/cover no-repeat;
    transition: background 0.5s ease;
  }

  /* Enhanced Top menu bar with premium glassmorphism */
  .menubar{
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: auto;
    min-width: 300px;
    height: 44px;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:0 24px;
    background: rgba(30, 30, 45, 0.45);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid var(--border);
    border-top: none;
    border-radius: 0 0 20px 20px;
    z-index: 1000;
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    background-image: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
  }
  .menubar .center{display:flex; align-items:center; gap:16px}

  .menu-button{
    background: rgba(255,255,255,0.15);
    border: 1px solid var(--border-light);
    border-radius: 10px;
    padding: 6px 16px;
    font-size: 13px;
    cursor: pointer;
    color: var(--text-secondary);
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    font-weight: 500;
    position: relative;
    overflow: hidden;
  }
  .menu-button:hover{
    background: rgba(255,255,255,0.25);
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
  }
  .menu-button:active{
    transform: translateY(0);
  }

  .status{
    font-size:13px; 
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
    letter-spacing: 0.3px;
  }

  /* Desktop area - clean */
  .desktop{
    position: absolute;
    inset: 44px 0 var(--dock-height) 0;
    overflow: hidden;
  }

  /* LinkOS Watermark */
  .desktop::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 9rem;
    font-weight: 900;
    color: rgba(255, 255, 255, 0.25);
    z-index: -1;
    pointer-events: none;
    white-space: nowrap;
    letter-spacing: 4px;
    text-shadow: 0 0 80px rgba(123, 104, 238, 0.1);
  }

  /* Taskbar (Windows-style) with premium glassmorphism */
  .taskbar{
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 44px;
    background: rgba(25, 25, 40, 0.6);
    backdrop-filter: blur(25px) saturate(180%);
    -webkit-backdrop-filter: blur(25px) saturate(180%);
    border-top: 1px solid var(--border);
    display: flex;
    align-items: center;
    padding: 0 16px;
    gap: 10px;
    z-index: 998;
    background-image: linear-gradient(to top, rgba(0,0,0,0.1) 0%, transparent 100%);
  }

  .taskbar-app{
    padding: 8px 16px;
    background: rgba(255,255,255,0.12);
    border-radius: 10px;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 1px solid transparent;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    font-weight: 500;
    position: relative;
    overflow: hidden;
  }

  .taskbar-app:hover{
    background: rgba(255,255,255,0.2);
    transform: translateY(-1px);
    border: 1px solid var(--border-light);
  }

  .taskbar-app.active{
    background: var(--accent);
    color: white;
    box-shadow: 0 5px 15px var(--accent-glow);
    border: 1px solid rgba(255,255,255,0.3);
  }

  /* Dock (macOS-style) with premium glassmorphism */
 /* Dock (macOS-style) with premium glassmorphism */
.dock-wrap{
    position: fixed;
    left: 50%;
    transform: translateX(-50%);
    bottom: 20px;
    height: var(--dock-height);
    display:flex;
    align-items:end;
    justify-content:center;
    pointer-events: none;
    z-index: 999;
}

.dock {
    pointer-events: auto;
    height: 20px;
    background: rgba(30, 30, 45, 0.5);
    padding: 4px 100px;
    border-radius: 30px;
    display:flex;
    gap: 0;
    align-items:end;
    box-shadow: var(--shadow-heavy);
    border: 1px solid var(--border);
    backdrop-filter: blur(30px) saturate(180%);
    -webkit-backdrop-filter: blur(30px) saturate(180%);
    background-image: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.05) 100%);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    /* REMOVED: overflow: hidden; */
    min-height: 20px;
}

.dock:hover {
    height: calc(var(--dock-height) - 10px);
    padding: 12px 20px;
    border-radius: 24px;
    gap: var(--dock-gap);
}

/* Dock icons */
.dock-icon{
    width: 0;
    height: 0;
    border-radius: 16px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    cursor: pointer;
    user-select:none;
    background: rgba(255,255,255,0.15);
    position: relative;
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(255,255,255,0.2);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    opacity: 0;
    transform: scale(1);
    /* ADDED: margin-bottom to create space for lift */
    margin-bottom: 0;
}

.dock:hover .dock-icon {
    width: var(--dock-icon-size);
    height: var(--dock-icon-size);
    opacity: 1;
    transform: scale(1);
    /* ADDED: Reset margin when dock expands */
    margin-bottom: 0;
}

.dock:hover .dock-icon:hover{
    transform: translateY(-12px) scale(1.15); /* Increased lift and scale */
    background: rgba(255,255,255,0.25);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3); /* Enhanced shadow for depth */
    margin-bottom: 8px; /* Creates space for the lifted icon */
}	

  .dock-icon img{
    width:52%; 
    height:52%; 
    object-fit:contain;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

  /* Active indicator */
  .dock-icon .dot{
    position:absolute; 
    bottom:6px; 
    left:50%; 
    transform:translateX(-50%); 
    width:5px; 
    height:5px; 
    border-radius:50%;
    background:var(--accent); 
    opacity:0; 
    transition:opacity 0.3s ease;
    box-shadow: 0 0 8px var(--accent);
}
  .dock-icon.active .dot{
    opacity:1;
  }

  /* Launchpad with premium glassmorphism */
  .launchpad{
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%,-50%) scale(0.9);
    width: min(850px, 92vw);
    height: min(550px, 75vh);
    background: rgba(25, 25, 40, 0.75);
    backdrop-filter: blur(40px) saturate(200%);
    -webkit-backdrop-filter: blur(40px) saturate(200%);
    border-radius: 28px;
    padding: 32px;
    display:grid;
    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
    gap: 20px;
    align-content:start;
    border: 1px solid var(--border-light);
    box-shadow: var(--shadow-heavy), 0 0 0 1px rgba(255,255,255,0.1);
    z-index: 1200;
    opacity: 0;
    pointer-events: none;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    background-image: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.05) 50%, rgba(0,0,0,0.1) 100%);
  }
  .launchpad.show{
    opacity:1; 
    pointer-events:auto; 
    transform: translate(-50%,-50%) scale(1);
  }

  .app-card{
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    gap:12px; 
    justify-content:center;
    padding:20px; 
    border-radius:18px; 
    cursor:pointer; 
    transition: all 0.3s ease;
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(255,255,255,0.15);
    position: relative;
    overflow: hidden;
  }

  .app-card:hover{
    transform: translateY(-5px) scale(1.05);
    background: var(--accent);
    color: white;
    box-shadow: 0 15px 30px var(--accent-glow);
    border: 1px solid rgba(255,255,255,0.3);
  }

  .app-card:active{
    transform: translateY(-2px) scale(1.02);
  }

  .app-card img{
    width:48px; 
    height:48px; 
    object-fit:contain;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
  }

  .app-card span{
    font-size:13px; 
    text-align: center;
    font-weight: 500;
    letter-spacing: 0.2px;
  }

  /* App window with premium glassmorphism */
  .app-window{
    position: absolute;
    width: 750px;
    height: 520px;
    background: rgba(30, 30, 45, 0.7);
    backdrop-filter: blur(25px) saturate(160%);
    -webkit-backdrop-filter: blur(25px) saturate(160%);
    border-radius: 20px;
    border: 1px solid var(--border-light);
    box-shadow: var(--shadow-heavy), 0 0 0 1px rgba(255,255,255,0.1);
    overflow: hidden;
    display:flex;
    flex-direction:column;
    resize: both;
    min-width: 320px;
    min-height: 220px;
    background-image: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.05) 100%);
  }

  .win-header{
    height:46px; 
    display:flex; 
    align-items:center; 
    gap:12px; 
    padding:0 16px; 
    background: rgba(40, 40, 60, 0.7);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    cursor: move; 
    user-select:none;
    border-bottom: 1px solid var(--border);
    background-image: linear-gradient(to right, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
  }

  .win-controls{
    display:flex; 
    gap:8px; 
    align-items:center;
  }

  .circle{
    width:14px; 
    height:14px; 
    border-radius:50%;
    transition: all 0.3s ease;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    position: relative;
  }

  .circle::after{
    content: '';
    position: absolute;
    top: 1px;
    left: 1px;
    right: 1px;
    bottom: 1px;
    border-radius: 50%;
    background: transparent;
    transition: all 0.2s ease;
  }

  .circle.close{background: #ff5f57;}
  .circle.close:hover{
    background: #ff3b30;
    transform: scale(1.1);
  }

  .circle.min{background: #ffbd2e;}
  .circle.min:hover{
    background: #ffa500;
    transform: scale(1.1);
  }

  .circle.max{background: #28ca42;}
  .circle.max:hover{
    background: #1cad34;
    transform: scale(1.1);
  }

  .win-title{
    flex:1; 
    text-align:center; 
    font-weight:600; 
    font-size:13px; 
    letter-spacing: 0.3px;
  }

  .win-body{
    flex:1; 
    background: rgba(20, 20, 30, 0.4); 
    display:block;
    overflow: hidden;
    backdrop-filter: blur(5px);
  }

  .win-body iframe{
    width:100%; 
    height:100%; 
    border:0; 
    display:block;
  }

  /* Window states */
  .app-window.active{
    box-shadow: var(--shadow-heavy), 0 0 0 1px rgba(255,255,255,0.15), 0 0 30px rgba(123, 104, 238, 0.2);
  }

  .app-window.inactive{
    opacity:0.7;
  }

  /* Opening animation */
  .app-window.opening{
    transform: scale(0.85);
    opacity:0; 
    animation: openAnim 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  }

  @keyframes openAnim{
    to{
      transform:none; 
      opacity:1;
    }
  }

  /* Boot screen styles */
  #boot-screen { 
    position: fixed; 
    inset: 0; 
    background: #000; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    z-index: 100000; 
    animation: bootFadeOut 0.6s ease forwards; 
    animation-delay: 2.8s; 
  } 
  .boot-center { 
    text-align: center; 
  } 
  .boot-logo { 
    height: 110px; 
    opacity: 0; 
    animation: bootFadeIn 1.2s ease forwards; 
  } 
  @keyframes bootFadeIn { 
    to { 
      opacity: 1; 
    } 
  } 
  @keyframes bootFadeOut { 
    to { 
      opacity: 0; 
      visibility: hidden; 
    } 
  }

  /* Responsive */
  @media (max-width:900px){
    .app-window{width:92vw; height:70vh}
    .dock{padding:10px 16px;}
    .desktop::before {
      font-size: 5rem;
    }
    .menubar {
      width: 90%;
      min-width: unset;
    }
    .launchpad {
      padding: 24px;
      gap: 16px;
    }
    .boot-logo {
      height: 80px;
    }
  }